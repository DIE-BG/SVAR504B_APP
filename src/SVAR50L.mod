%%% SVAR50-4B
%{

This version includes:

SVAR Endogenous block
Additional identities
Log-level Reconstruction
4Q-MovSum for GDP's
Annualized QoQ Growth Rates

DIE -04/03/2024
MJGM
%}

!transition_variables
% Log levels
'Producto Interno Bruto Real EEUU (Logaritmo)'                                                      ln_y_star,
'Producto Interno Bruto Real EEUU, Suma movil de 4 trimestres (Logaritmo)'                          ln_y_star_sm,
'Índice de Precios de transables (Logaritmo)'                                                       ln_ipei,
'Indice Inflación No subyacente (Logaritmo)'                                                        ln_cpi_nosub,
'Producto Interno Bruto Real Guatemala (Logaritmo)'                                                 ln_y,
'Producto Interno Bruto Real Guatemala, Suma movil de 4 trimestres (Logaritmo)'                     ln_y_sm,
'Indice Inflación Subyacente Optima MSE (Logaritmo)'                                                ln_cpi_sub,
'Tipo de Cambio Nominal (Logaritmo)'                                                                ln_s,
'Base Monetaria (Logaritmo)'                                                                        ln_bm,
'Indice de Precios al Consumidor (Logaritmo)'                                                       ln_cpi,
'Indice Tipo de Cambio Real (Logaritmo)'                                                            ln_z,
'Velocidad de circulacion de la Base Monetaria(Logaritmo)'                                          ln_v,
' Índice de Precios de Transables GTQ (Logaritmo)'                                                  ln_ipei_q,

% YoY Growth rates
'Tasa de Variación Interanual del PIB de EEUU'                                                      d4_ln_y_star,
'Tasa de Variación Interanual de la suma de 4 Trimestres del PIB de EEUU'                           d4_ln_y_star_sm,
'Tasa de Variación Interanual del Índice de Precios de Transables'                                  d4_ln_ipei,
'Tasa de Interes de fondos federales'                                                               i_star,
'Inflacion No Subyacente Interanual'                                                                d4_ln_cpi_nosub,
'Tasa de Variación Interanual del PIB de Guatemala'                                                 d4_ln_y,
'Tasa de Variación Interanual de la suma de 4 Trimestres del PIB de Guatemala'                      d4_ln_y_sm,
'Inflación Subyacente Optima MSE Interanual'                                                        d4_ln_cpi_sub,
'Tasa de Variación Interanual del Tipo de Cambio Nominal'                                           d4_ln_s,
'Tasa de Variación Interanual de la Base Monetaria'                                                 d4_ln_bm, 
'Tasa de Interes Lider de Politica Monetaria'                                                       i,
'Inflacion Total Internual'                                                                         d4_ln_cpi,
'Tasa de Variación Interanual del Tipo de Cambio Real'                                              d4_ln_z,
'Tasa de Variación Interanual de la Velocidad de circulacion de la Base Monetaria'                  d4_ln_v,
'Tasa de interes real de Politica Monetaria'                                                        r,
'Tasa de Variación Interanual del Índice de Precios de Transables en GTQ'                           d4_ln_ipei_q,

% Annualized QoQ Growth rates
'Tasa de Variación Intertrimestral Anualizada del Índice de Precios de Transables'                  dla_ipei,
'Tasa de Variación Intertrimestral Anualizada del Tipo de Cambio Real'                              dla_z, 
'Tasa de Variación Intertrimestral Anualizada del Tipo de Cambio Nominal'                           dla_s, 
'Inflacion No Subyacente Intertrimestral Anualizada'                                                dla_cpi_nosub, 
'Inflacion Subyacente Optima MSE Intertrimestral Anualizada'                                        dla_cpi_sub, 
'Inflacion Total Intertrimestral Anualizada'                                                        dla_cpi, 
'Tasa de Variación Intertrimestral Anualizada de la Base Monetaria'                                 dla_bm, 
'Tasa de Variación Intertrimestral Anualizada de la Velocidad de circulacion de la Base Monetaria'  dla_v,
'Tasa de Variación Intertrimestral Anualizada del Índice de Precios de Transables en GTQ'           dla_ipei_q

!transition_shocks
'Shock de crecimiento externo'      s_d4_ln_y_star,
'Shock de precios de transables'    s_d4_ln_ipei,
'Shock de tasa de interes externa'  s_i_star,
'Choque de inflacion no subyacente' s_d4_ln_cpi_nosub,
'Choque de demanda agregada'        s_d4_ln_y,
'Choque de inflacion subyacente'    s_d4_ln_cpi_sub,
'Choque cambiario nominal'          s_d4_ln_s,
'Choque monetario'                  s_d4_ln_bm,
'Choque de Politica Monetaria'      s_i

!parameters 
% steady States
d4_ln_y_star_ss, 
d4_ln_ipei_ss, 
i_star_ss, 
d4_ln_cpi_nosub_ss, 
d4_ln_y_ss, 
d4_ln_cpi_sub_ss, 
d4_ln_s_ss, 
d4_ln_bm_ss, 
i_ss, 
d4_ln_cpi_ss,
d4_ln_z_ss, 
d4_ln_v_ss,
r_ss

%%%% SVAR PARAMETERS %%%%
% Constants
k1, k2, k3, k4, k5, k6, k7, k8, k9,

% Gamma0 Matrix
g_0_11, g_0_12, g_0_13, g_0_14, g_0_15, g_0_16, g_0_17, g_0_18, g_0_19,
g_0_21, g_0_22, g_0_23, g_0_24, g_0_25, g_0_26, g_0_27, g_0_28, g_0_29,
g_0_31, g_0_32, g_0_33, g_0_34, g_0_35, g_0_36, g_0_37, g_0_38, g_0_39,
g_0_41, g_0_42, g_0_43, g_0_44, g_0_45, g_0_46, g_0_47, g_0_48, g_0_49,
g_0_51, g_0_52, g_0_53, g_0_54, g_0_55, g_0_56, g_0_57, g_0_58, g_0_59,
g_0_61, g_0_62, g_0_63, g_0_64, g_0_65, g_0_66, g_0_67, g_0_68, g_0_69,
g_0_71, g_0_72, g_0_73, g_0_74, g_0_75, g_0_76, g_0_77, g_0_78, g_0_79,
g_0_81, g_0_82, g_0_83, g_0_84, g_0_85, g_0_86, g_0_87, g_0_88, g_0_89,
g_0_91, g_0_92, g_0_93, g_0_94, g_0_95, g_0_96, g_0_97, g_0_98, g_0_99,
% Gamma1 Matrix
g_1_11, g_1_12, g_1_13, g_1_14, g_1_15, g_1_16, g_1_17, g_1_18, g_1_19,
g_1_21, g_1_22, g_1_23, g_1_24, g_1_25, g_1_26, g_1_27, g_1_28, g_1_29,
g_1_31, g_1_32, g_1_33, g_1_34, g_1_35, g_1_36, g_1_37, g_1_38, g_1_39,
g_1_41, g_1_42, g_1_43, g_1_44, g_1_45, g_1_46, g_1_47, g_1_48, g_1_49,
g_1_51, g_1_52, g_1_53, g_1_54, g_1_55, g_1_56, g_1_57, g_1_58, g_1_59,
g_1_61, g_1_62, g_1_63, g_1_64, g_1_65, g_1_66, g_1_67, g_1_68, g_1_69,
g_1_71, g_1_72, g_1_73, g_1_74, g_1_75, g_1_76, g_1_77, g_1_78, g_1_79,
g_1_81, g_1_82, g_1_83, g_1_84, g_1_85, g_1_86, g_1_87, g_1_88, g_1_89,
g_1_91, g_1_92, g_1_93, g_1_94, g_1_95, g_1_96, g_1_97, g_1_98, g_1_99,

!transition_equations
% Log-Levels
ln_y_star = ln_y_star{-4} + d4_ln_y_star;
ln_ipei = ln_ipei{-4} + d4_ln_ipei;
ln_y = ln_y{-4} + d4_ln_y;
ln_cpi_sub = ln_cpi_sub{-4} + d4_ln_cpi_sub;
ln_cpi_nosub = ln_cpi_nosub{-4} + d4_ln_cpi_nosub; 
ln_s = ln_s{-4} + d4_ln_s;
ln_bm = ln_bm{-4} + d4_ln_bm;
ln_cpi = ln_cpi{-4} + d4_ln_cpi; 
ln_z = ln_z{-4} + d4_ln_z; 
ln_v = ln_cpi_sub + ln_y - ln_bm; 
% Tradeable goods prices in GTQ
ln_ipei_q = ln_ipei + ln_s;
% Moving Sums
ln_y_star_sm = movsum(ln_y_star, -4); 
ln_y_sm = movsum(ln_y, -4);

% MovSum and other YoY Growth rates
d4_ln_y_star_sm = 1/4*(ln_y_star_sm - ln_y_star_sm{-4}); 
d4_ln_y_sm = 1/4*(ln_y_sm - ln_y_sm{-4}); 
d4_ln_ipei_q = ln_ipei_q - ln_ipei_q{-4};

% Annualized QoQ Growth rates
dla_ipei = 4*(ln_ipei - ln_ipei{-1}); 
dla_cpi_sub = 4*(ln_cpi_sub - ln_cpi_sub{-1}); 
dla_cpi_nosub = 4*(ln_cpi_nosub - ln_cpi_nosub{-1}); 
dla_s = 4*(ln_s - ln_s{-1}); 
dla_bm = 4*(ln_bm - ln_bm{-1}); 
dla_cpi = 4*(ln_cpi - ln_cpi{-1}); 
dla_z = 4*(ln_z - ln_z{-1}); 
dla_v = 4*(ln_v - ln_v{-1}); 
dla_ipei_q = 4*(ln_ipei_q - ln_ipei_q{-1});


% Theoretical  identities 
% Headline Inflation 
(d4_ln_cpi - d4_ln_cpi_ss) =   (d4_ln_cpi_nosub - d4_ln_cpi_nosub_ss) ...
                             + (d4_ln_cpi_sub - d4_ln_cpi_sub_ss); 
                         
% Real Exchange Rate
(d4_ln_z - d4_ln_z_ss) =  (d4_ln_s - d4_ln_s_ss) ...
                        + (d4_ln_ipei - d4_ln_ipei_ss) ...
                        - (d4_ln_cpi_sub - d4_ln_cpi_sub_ss); 
% Money vel
(d4_ln_v - d4_ln_v_ss) =  (d4_ln_cpi_sub - d4_ln_cpi_sub_ss) ...
                        + (d4_ln_y - d4_ln_y_ss) ...
                        - (d4_ln_bm - d4_ln_bm_ss); 
% Real Interest Rate
(r - r_ss) = (i - i_ss) - (d4_ln_cpi_sub{+4} - d4_ln_cpi_sub_ss); 

%%%%%%%%%%%%%%%% SVAR Endogeouns block (9 Equations) %%%%%%%%%%%%%%%%%%%%%

% Foreign Output
g_0_11 * d4_ln_y_star + ...
g_0_12 * d4_ln_ipei + ...
g_0_13 * i_star + ...
g_0_14 * d4_ln_cpi_nosub + ...
g_0_15 * d4_ln_y + ...
g_0_16 * d4_ln_cpi_sub + ...
g_0_17 * d4_ln_s + ...
g_0_18 * d4_ln_bm +
g_0_19 * i = ...
k1 + ...
g_1_11 * d4_ln_y_star{-1} + ...
g_1_12 * d4_ln_ipei{-1} + ...
g_1_13 * i_star{-1} + ...
g_1_14 * d4_ln_cpi_nosub{-1} + ...
g_1_15 * d4_ln_y{-1} + ...
g_1_16 * d4_ln_cpi_sub{-1} + ...
g_1_17 * d4_ln_s{-1} + ...
g_1_18 * d4_ln_bm{-1} + ...
g_1_19 * i{-1} + ...
s_d4_ln_y_star;

% Tradable goods Prices
g_0_21 * d4_ln_y_star + ...
g_0_22 * d4_ln_ipei + ...
g_0_23 * i_star + ...
g_0_24 * d4_ln_cpi_nosub + ...
g_0_25 * d4_ln_y + ...
g_0_26 * d4_ln_cpi_sub + ...
g_0_27 * d4_ln_s + ...
g_0_28 * d4_ln_bm + ...
g_0_29 * i = ...
k2 + ...
g_1_21 * d4_ln_y_star{-1} + ...
g_1_22 * d4_ln_ipei{-1} + ...
g_1_23 * i_star{-1} + ...
g_1_24 * d4_ln_cpi_nosub{-1} + ...
g_1_25 * d4_ln_y{-1} + ...
g_1_26 * d4_ln_cpi_sub{-1} + ...
g_1_27 * d4_ln_s{-1} + ...
g_1_28 * d4_ln_bm{-1} + ...
g_1_29 * i{-1} + ...
s_d4_ln_ipei;

% Federal Fuds Rate
g_0_31 * d4_ln_y_star + ...
g_0_32 * d4_ln_ipei + ...
g_0_33 * i_star + ...
g_0_34 * d4_ln_cpi_nosub + ...
g_0_35 * d4_ln_y + ...
g_0_36 * d4_ln_cpi_sub + ...
g_0_37 * d4_ln_s + ...
g_0_38 * d4_ln_bm + ...
g_0_39 * i = ...
k3 + ...
g_1_31 * d4_ln_y_star{-1} + ...
g_1_32 * d4_ln_ipei{-1} + ...
g_1_33 * i_star{-1} + ...
g_1_34 * d4_ln_cpi_nosub{-1} + ...
g_1_35 * d4_ln_y{-1} + ...
g_1_36 * d4_ln_cpi_sub{-1} + ...
g_1_37 * d4_ln_s{-1} + ...
g_1_38 * d4_ln_bm{-1} + ...
g_1_39 * i{-1} + ...
s_i_star;

% Non-core Inflation
g_0_41 * d4_ln_y_star + ...
g_0_42 * d4_ln_ipei + ...
g_0_43 * i_star + ...
g_0_44 * d4_ln_cpi_nosub + ...
g_0_45 * d4_ln_y + ...
g_0_46 * d4_ln_cpi_sub + ...
g_0_47 * d4_ln_s + ...
g_0_48 * d4_ln_bm + ...
g_0_49 * i = ...
k4 + ...
g_1_41 * d4_ln_y_star{-1} + ...
g_1_42 * d4_ln_ipei{-1} + ...
g_1_43 * i_star{-1} + ...
g_1_44 * d4_ln_cpi_nosub{-1} + ...
g_1_45 * d4_ln_y{-1} + ...
g_1_46 * d4_ln_cpi_sub{-1} + ...
g_1_47 * d4_ln_s{-1} + ...
g_1_48 * d4_ln_bm{-1} + ...
g_1_49 * i{-1} + ...
s_d4_ln_cpi_nosub;

% Real GDP Growth
g_0_51 * d4_ln_y_star + ...
g_0_52 * d4_ln_ipei + ...
g_0_53 * i_star + ...
g_0_54 * d4_ln_cpi_nosub + ...
g_0_55 * d4_ln_y + ...
g_0_56 * d4_ln_cpi_sub + ...
g_0_57 * d4_ln_s + ...
g_0_58 * d4_ln_bm + ...
g_0_59 * i = ...
k5 + ...
g_1_51 * d4_ln_y_star{-1} + ...
g_1_52 * d4_ln_ipei{-1} + ...
g_1_53 * i_star{-1} + ...
g_1_54 * d4_ln_cpi_nosub{-1} + ...
g_1_55 * d4_ln_y{-1} + ...
g_1_56 * d4_ln_cpi_sub{-1} + ...
g_1_57 * d4_ln_s{-1} + ...
g_1_58 * d4_ln_bm{-1} + ...
g_1_59 * i{-1} + ...
s_d4_ln_y;

% Core Inflation
g_0_61 * d4_ln_y_star + ...
g_0_62 * d4_ln_ipei + ...
g_0_63 * i_star + ...
g_0_64 * d4_ln_cpi_nosub + ...
g_0_65 * d4_ln_y + ...
g_0_66 * d4_ln_cpi_sub + ...
g_0_67 * d4_ln_s + ...
g_0_68 * d4_ln_bm + ...
g_0_69 * i = ...
k6 + ...
g_1_61 * d4_ln_y_star{-1} + ...
g_1_62 * d4_ln_ipei{-1} + ...
g_1_63 * i_star{-1} + ...
g_1_64 * d4_ln_cpi_nosub{-1} + ...
g_1_65 * d4_ln_y{-1} + ...
g_1_66 * d4_ln_cpi_sub{-1} + ...
g_1_67 * d4_ln_s{-1} + ...
g_1_68 * d4_ln_bm{-1} + ...
g_1_69 * i{-1} + ...
s_d4_ln_cpi_sub;


% Nominal Exchange Rate
g_0_71 * d4_ln_y_star + ...
g_0_72 * d4_ln_ipei + ...
g_0_73 * i_star + ...
g_0_74 * d4_ln_cpi_nosub + ...
g_0_75 * d4_ln_y + ...
g_0_76 * d4_ln_cpi_sub + ...
g_0_77 * d4_ln_s + ...
g_0_78 * d4_ln_bm + ...
g_0_79 * i = ...
k7 + ...
g_1_71 * d4_ln_y_star{-1} + ...
g_1_72 * d4_ln_ipei{-1} + ...
g_1_73 * i_star{-1} + ...
g_1_74 * d4_ln_cpi_nosub{-1} + ...
g_1_75 * d4_ln_y{-1} + ...
g_1_76 * d4_ln_cpi_sub{-1} + ...
g_1_77 * d4_ln_s{-1} + ...
g_1_78 * d4_ln_bm{-1} + ...
g_1_79 * i{-1} + ...
s_d4_ln_s;

% Money Base
g_0_81 * d4_ln_y_star + ...
g_0_82 * d4_ln_ipei + ...
g_0_83 * i_star + ...
g_0_84 * d4_ln_cpi_nosub + ...
g_0_85 * d4_ln_y + ...
g_0_86 * d4_ln_cpi_sub + ...
g_0_87 * d4_ln_s + ...
g_0_88 * d4_ln_bm + ...
g_0_89 * i = ...
k8 + ...
g_1_81 * d4_ln_y_star{-1} + ...
g_1_82 * d4_ln_ipei{-1} + ...
g_1_83 * i_star{-1} + ...
g_1_84 * d4_ln_cpi_nosub{-1} + ...
g_1_85 * d4_ln_y{-1} + ...
g_1_86 * d4_ln_cpi_sub{-1} + ...
g_1_87 * d4_ln_s{-1} + ...
g_1_88 * d4_ln_bm{-1} + ...
g_1_89 * i{-1} + ...
s_d4_ln_bm;

% Monetary Policy Rate
g_0_91 * d4_ln_y_star + ...
g_0_92 * d4_ln_ipei + ...
g_0_93 * i_star + ...
g_0_94 * d4_ln_cpi_nosub + ...
g_0_95 * d4_ln_y + ...
g_0_96 * d4_ln_cpi_sub + ...
g_0_97 * d4_ln_s + ...
g_0_98 * d4_ln_bm + ...
g_0_99 * i = ...
k9 + ...
g_1_91 * d4_ln_y_star{-1} + ...
g_1_92 * d4_ln_ipei{-1} + ...
g_1_93 * i_star{-1} + ...
g_1_94 * d4_ln_cpi_nosub{-1} + ...
g_1_95 * d4_ln_y{-1} + ...
g_1_96 * d4_ln_cpi_sub{-1} + ...
g_1_97 * d4_ln_s{-1} + ...
g_1_98 * d4_ln_bm{-1} + ...
g_1_99 * i{-1} + ...
s_i;

%%%%%%%% Variables Observables %%%%%%%%%%%%%%%%
!measurement_variables
m_ln_y_star,
m_ln_ipei,
m_i_star,
m_ln_y,
m_ln_cpi_sub,
m_ln_s, 
m_ln_bm,
m_i,
m_ln_cpi

!measurement_equations
m_ln_y_star = ln_y_star;
m_ln_ipei = ln_ipei;
m_i_star = i_star;
m_ln_y = ln_y;
m_ln_cpi_sub = ln_cpi_sub;
m_ln_s = ln_s;
m_ln_bm = ln_bm;
m_i = i;
m_ln_cpi = ln_cpi;

